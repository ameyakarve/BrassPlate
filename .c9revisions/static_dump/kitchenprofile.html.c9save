{"ts":1361337628637,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n<!DOCTYPE html> \n<html> \n<head> \n \n \n \n \n \n        <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='nnISCy0otML4KzNkX6E0aKQHpXO7UW5E' /></div> \n        <title>Ct3&#39;s kitchen. Loaded. @ The Brass Plate</title> \n \n        <title>The Brass Plate</title> \n \n        <!--CSS--> \n        <link rel=\"stylesheet\" href=\"./static/nivoslider/default/default.css\" type=\"text/css\" media=\"screen\" /> \n        <link rel=\"stylesheet\" href=\"./static/nivoslider/nivo-slider.css\" type=\"text/css\" media=\"screen\" /> \n        <link rel=\"stylesheet\" href=\"./static/jcrop/css/jquery.Jcrop.min.css\"                            > \n        <link rel=\"stylesheet\" href=\"./static/fancybox/jquery.fancybox.css\" type=\"text/css\" media=\"screen\" /> \n \n        <link rel=\"stylesheet\" href=\"./static/autocomplete/css/ui-lightness/jquery-ui-1.10.0.custom.css\"/> \n        <link rel=\"stylesheet\" href=\"./static/jqueryui/css/ui-lightness/jquery-ui-1.10.1.custom.css\"/> \n \n        <link rel=\"stylesheet\" href=\"./static/bootstrap/css/bootstrap.css\"> \n        <link rel=\"stylesheet\" href=\"./static/bootstrap-editable/css/bootstrap-editable.css\"> \n \n        <link rel='stylesheet' href=\"./static/main2.css\" type='text/css'/> \n \n \n        <!--JS--> \n        <script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.7.js\"></script> \n \n        <script type=\"text/javascript\" src=\"./static/fancybox/jquery.fancybox.pack.js\"></script> \n        <script type=\"text/javascript\" src=\"./static/nivoslider/jquery.nivo.slider.js\"></script> \n        <script type=\"text/javascript\" src=\"./static/jcrop/js/jquery.Jcrop.min.js\"></script> \n \n \n        <script type=\"text/javascript\" src=\"http://code.jquery.com/ui/1.10.1/jquery-ui.js\"></script> \n \n        <script type=\"text/javascript\" src=\"./static/bootstrap/js/bootstrap.js\"></script> \n        <!-- Bootstrap and jQueryUI conflict resolution --> \n        <script> \n         var bstooltip = $.fn.tooltip.noConflict();\n         $.fn.bstooltip = bstooltip;          \n        </script> \n \n        <script type=\"text/javascript\" src=\"./static/bootstrap-editable/js/bootstrap-editable.js\"></script> \n \n \n        <script type=\"text/javascript\" src=\"./static/autocomplete_combo.js\"></script> \n \n        <script> \n            $(function() {\n                initializeStuff();\n            });\n \n            var cur_jcrop = null;\n            /* USELESS STUFF\n               kitchen_tags_source:  [   \n                                                'Bengali', \n                                              \n                                                'high-oil', \n                                              \n                                                'super-spicy', \n                                             \n                                        ],\n \n \n            */\n \n            var inlineEdits= \n            {\n                /*\n                cuisine_source: [   \n                                            {value: 1, text: 'Gujarati'},\n                                         \n                                            {value: 2, text: 'Bengali'},\n                                        \n                                ],*/\n \n                area_source:    [   \n                                         {value: 1, text: 'Besantnagar'}, \n                                      \n                                        \n                                      \n                                         {value: 3, text: 'Alwarpet'}, \n                                     \n                                ],\n                \n                success: function (response, new_value) \n                         {\n                             response = JSON.parse(response);\n                             if(response.error != false) \n                             {\n                                 return response.error;\n                             }\n                             return {new_value: response.data};\n                         },\n \n                initialize: function()\n                            {\n                                /* Call the editables on this */ \n                                $('.editableFheading').editable(    {ajaxOptions: {type: 'POST', dataType:'html'}, \n                                                                     type:'text',     \n                                                                     url:'/cook/edit_kitchen/kitchen/?kitchen_id='+8, \n                                                                     name:'name', \n                                                                     pk:'8', \n                                                                     value:$('.editableFheading').text(),\n                                                                     success: function(r, n) { return inlineEdits.success(r, n);} \n                                                                     });\n \n                                $('.editableFlocation').editable(   {ajaxOptions: {type: 'POST', dataType:'html'}, \n                                                                     type:'select',     \n                                                                     url:'/cook/edit_kitchen/cook/?kitchen_id='+8, \n                                                                     name:'area_id',\n                                                                     pk:'8', \n                                                                     value:'3',\n                                                                     source: inlineEdits.area_source,\n                                                                     success: function(r, n) { return inlineEdits.success(r, n);} \n                                                                     });\n \n                                $('.editableFdescription').editable({ajaxOptions: {type: 'POST', dataType:'html'}, \n                                                                     type:'textarea', \n                                                                     url:'/cook/edit_kitchen/kitchen/?kitchen_id='+8, \n                                                                     name:'description', \n                                                                     pk:'1', \n                                                                    value: $(\".editableFdescription\").text(),\n                                                                     success: function(r, n) { return inlineEdits.success(r, n);} \n                                                                     });\n \n                                /*TODO: Change to multiple cuisine values\n                                $('.editableFcuisine').editable(    {ajaxOptions: {type: 'POST', dataType:'html'}, \n                                                                     type:'select',     \n                                                                     url:'/cook/edit_kitchen/kitchen/?kitchen_id='+8, \n                                                                     name:'cuisine_id', \n                                                                     pk:'8', \n                                                                     value:'', \n                                                                     source: inlineEdits.cuisine_source,\n                                                                     success: function(r, n) { return inlineEdits.success(r, n);} \n                                                                     });\n                                 */\n                            },\n            };\n \n            \n            var kitchenCuisineEdits = \n            {\n                success: function(d) \n                         { \n                             $(\"#kitchen_description_editcuisines ul\").html(d.data);\n                             initializeAJAX();\n                         },\n \n                initialize: function () \n                            {\n                                //Initialize the autocomplete combobox plugin\n                                $(\"select[name='cuisine_id'].autocomplete_combo\").combobox(); \n                            },\n \n                error: function(d) \n                       { \n                           showMessage('error', d.error);\n                       },\n \n                validate: function(form)\n                          { \n                              if (!form.children(\"[name=cuisine_id]\").val())\n                                  return false;\n                              return true;\n                          },\n            };\n \n \n            var kitchenTagEdits=\n            {\n                success: function(d) \n                         { \n                             $(\"#kitchen_description_edittags ul\").html(d.data);\n                             initializeAJAX();\n                         },\n \n                initialize: function () \n                            {\n                                //Initialize the autocomplete combobox plugin\n                                $(\"select[name='tag_id'].autocomplete_combo\").combobox(); \n                            },\n \n                error: function(d) \n                       { \n                           showMessage('error', d.error);\n                       },\n \n                validate: function(form)\n                          { \n                              if (!form.children(\"[name=tag_id]\").val())\n                                  return false;\n                              return true;\n                          },\n            };\n \n            var featuredItemEdits=\n            {\n                short_scroll_side_height: '181px',\n                long_scroll_side_height: '221px',\n                success: function(d) \n                         { \n                            if (d.data == \"NONE\")\n                            {\n                                //Hide featured_menu_item stuff\n                                $('.description_image_sidebar .description_image_sidebar_scroll').click();\n                                $('.description_image_sidebar .menu_selector').hide();\n \n                                //Increase height of the sidebar\n                                $('.description_image_sidebar .description_image_sidebar_scroll').css('height', featuredItemEdits.long_scroll_side_height);\n                            }\n                            else\n                            {\n                                $('.description_image_sidebar .menu_selector').show();\n                                $('.description_image_sidebar .menu_selector').click();\n \n                                //Decrease height of the sidebar\n                                $('.description_image_sidebar .description_image_sidebar_scroll').css('height', featuredItemEdits.short_scroll_side_height);\n                            }\n                            $(\".kitchen_box.featured_menu\").html(d.data);\n                         },\n \n                initialize: function () \n                            {\n                                /*TODO: Add autocomplete if it's a long combobox*/\n                                return;\n                            },\n \n                error: function(d) \n                       { \n                           showMessage('error', d.error);\n                       },\n \n                validate: function(form)\n                          { \n                              return true;\n                          },\n \n            };\n \n            var sliderEdits=\n            {\n                is_sliderimg_raw_loaded: false,\n \n                validate_form1: function(form) \n                                {\n                                    if (!form.children(\"[name=photo_name]\").val())\n                                        return false;\n \n                                    if (!form.children(\"[name=filename]\").val())\n                                        return false;\n \n                                    return true;\n                                },\n \n                initialize: function() {\n                               /* Call initialize only once in the beginning to initialize:\n                                * Upload forms\n                                * Upload form states\n                                * Slider Views\n                                * For other slider view refreshes, use $(\"#refresh_slider_btn\").click()\n                                */\n \n                               $('#slider').nivoSlider({ effect: 'fade',  });\n \n                               sliderEdits.initializeSidebarStuff(); \n \n                               $('#form_uploadimage_1 form').die('submit');\n                               $('#form_uploadimage_1 form').live('submit', function(e) {\n                                    var form = $(e.currentTarget);\n                                    var r = sliderEdits.validate_form1(form);\n                                    if (r)\n                                    {\n                                        sliderEdits.is_sliderimg_raw_loaded = true;\n                                    }\n                                    else\n                                    {\n                                        //TODO: Change to better notification\n                                        alert('Invalid fields');\n                                        e.preventDefault();\n                                    }\n                                });\n                 \n                                $('#upload_frame').off('load');\n                                $('#upload_frame').on('load', function() {\n                                    if (sliderEdits.is_sliderimg_raw_loaded)\n                                    {\n                                        //Refresh the slider view\n                                        $(\"#refresh_slider_btn\").click();\n \n                                        //Ready the next form for receiving its input\n                                        sliderEdits.initialize_form2();\n \n                                        /*TODO: Error handling on value of new_img return*/\n                                        var new_img = ($($('#upload_frame')[0].contentWindow.document).find('body')[0].innerHTML);\n                                        if($.trim(new_img) == '') return false;\n                                        $(\"#form_uploadimage_2 h1\").after(new_img);\n                                        var img_data = $(\"#form_uploadimage_2 img\").attr(\"data-foodphoto_id\");\n                                        $(\"#form_uploadimage_2 form\").append(\"<input type='hidden' name='foodphoto_id' value='\"+img_data+\"' />\");\n \n \n                                        //Form 1 has successfully finished executing. It is ready for the next upload\n                                        sliderEdits.ready_new_upload();\n \n                                        //This showlightbox should be after everything\n                                        hideLightbox();\n                                        showLightbox(\"#form_uploadimage_2\");\n                                    }\n                                });\n \n                            },\n \n                initialize_form2: function()\n                                  {\n                                      $(\"#form_uploadimage_2 > img\").remove();\n                                      $(\"#form_uploadimage_2 form input[name='foodphoto_id']\").remove();\n                                  },\n \n                initializeSidebarStuff: function()\n                                        {\n                                            $('.description_image_sidebar .description_image_sidebar_scroll').click(function() {\n                                                    $('#kitchen_description .kitchen_box').hide();\n                                                    $('#kitchen_description #slider').show();\n                                                    });\n                                            $('.description_image_sidebar .menu_selector').click(function() {\n                                                    $('#kitchen_description .kitchen_box').show();\n                                                    $('#kitchen_description #slider').hide();\n                                                    });\n                                            $('.description_image_sidebar_scroll img').click(function(e) {\n                                                    $('#kitchen_description .kitchen_box').hide();\n                                                    $('#kitchen_description #slider').show();\n                                                    i = $(e.currentTarget);\n                                                    $('#kitchen_description .nivo-controlNav .nivo-control[rel='+i.data('image-index')+']').click();\n                                                    });\n                                        },\n \n                ready_new_upload: function () \n                                            {\n                                                sliderEdits.is_sliderimg_raw_loaded = false;\n                                                $(\"#form_uploadimage_1 form\")[0].reset();\n \n                                                //TODO: These two need not be called\n                                                //$(\"#form_uploadimage_2 > img\").remove();\n                                                //$(\"#form_uploadimage_2 form input[name='foodphoto_id']\").remove();\n \n                                            },\n \n                reload_slider: function() {\n                                    /*Function to refresh nivo slider div without AJAX\n                                     * by removing all of nivoslider's effects\n                                     */\n                                    $(\"#slider\").data('nivoslider').stop(); \n                                    $(\"#slider > div\").remove();\n                                    $(\".nivo-main-image\").remove();\n                                    $(\"#slider\").attr(\"class\", \"nivoslider\");\n                                    var old = $(\".kitchen_profile_images\").clone();\n                                    $(\".kitchen_profile_images\").html('');\n                                    $(\".kitchen_profile_images\").replaceWith(old);\n                              },\n \n                validate_form2:  function(form)\n                                    {\n                                        console.log(\"validating image upload form 2\");\n                                        return true;\n                                    },\n \n                validate: function (element)\n                          {\n                             //In case there are any validation\n                             if(element.closest(\"div\").attr(\"id\") == \"form_uploadimage_2\") \n                             { \n                                return sliderEdits.validate_form2(element);\n                             }\n                             else\n                                 alert(\"DEBUG: This validate should not have been case free. Contact the web admin if the error persists.\");\n                          },\n \n                success: function (data, element)\n                         {\n                             //In case there are any validation\n                             if(element.closest(\"div\").attr(\"id\") == \"form_uploadimage_2\") \n                             {\n                                 sliderEdits.success_form2(data, element);\n                             }\n                             else if (element.closest(\"div\").attr(\"id\") == \"form_uploadimage\") \n                             {\n                                 sliderEdits.success_removelinks(data, element);\n                             }\n                             else if (element.attr(\"id\") == \"refresh_slider_btn\")\n                             {\n                                 sliderEdits.success_refresh_slider(data, element);\n                             }\n                             else\n                                 alert(\"DEBUG: This success should not have been case free. Contact the web admin if the error persists.\");\n \n                        },\n                \n                success_refresh_slider: function(data, element) \n                                        {\n                                             $(\".kitchen_desc_right .kitchen_profile_images\").replaceWith(data.data);\n                                             $('#slider').nivoSlider({ effect: 'fade'  });\n                                             initializeAJAX();\n                                             initializeScriptForms();\n                                             sliderEdits.initializeSidebarStuff();\n                                        },\n \n                success_removelinks: function( data, link) \n                                       {\n                                         showMessage('info', 'Image removed');\n                                         $(\"#refresh_slider_btn\").click();\n \n                                       },\n \n                success_form2: function( data, form) \n                               {\n                                 showMessage('info', 'New image added after cropping');\n \n                                 sliderEdits.success_refresh_slider(data, form);\n \n                                 //Reload the newly added image's cache copy\n                                 var src = $('img.new_crop').attr('src');\n                                 $('img.new_crop').attr('src', src+\"?ts=\"+(new Date().getTime()));\n \n                                 hideLightbox();\n \n                                 //Form 2 has successfully finished execution\n                                 sliderEdits.initialize_form2();\n                               },\n \n                 error: function (data, form)\n                       {\n                           showMessage('error', data.error);\n                           hideLightbox();\n                       },\n            };\n            \n            var menuitemEdits=\n            {\n                initialize: function() {},\n \n                /*All validations*/\n                validate: function(element) \n                                {\n                                    if (element.attr(\"id\") == \"add_menu_form\")\n                                    {\n                                        return menuitemEdits.validate_add_form(element);\n                                    }\n                                },\n                validate_add_form: function(form)\n                                   {\n                                       if(!form.chdren(\"input[name=name]\"))\n                                           return false;\n                                       if(!form.chdren(\"input[name=items]\"))\n                                           return false;\n \n                                       return true;\n                                   },\n \n                success: function() {},\n                error: function() {},\n \n                \n            };\n \n            function initializeAJAX()\n            {\n                /* For link based AJAX stuff. Like Remove links */\n                $('.ajax_trigger').off('click');\n                $('.ajax_trigger').on('click', function(e) {\n                    var link = $(e.currentTarget);\n                    var r = true;\n \n                    //Find the JS model that manages this view\n                    var model = link.closest(\".js_model\").attr('data-js_model');\n                    model = window[model];\n \n                    if (link.hasClass('confirm'))\n                    {\n                        r = confirm(link.attr('data-confirm_message'));\n                    }\n                    if (r)\n                    {\n                        $.ajax({\n                                url: link.attr('href'),\n                                success: function (data, s, jqxhr) \n                                         {\n                                            data = JSON.parse(data);\n                                            //Call the success, error hooks\n                                            if (data.error)\n                                            {\n                                                model.error(data, link);\n                                            }\n                                            else\n                                            {\n                                                model.success(data, link);\n                                                initializeAJAX();\n                                            }\n                                         },\n                               });\n \n                    }\n                    e.preventDefault();\n                });\n            }\n           \n \n            function initializeScriptForms()\n            {\n                $('form.script_form').die('submit');\n                $('form.script_form').live('submit', function(e) {\n                    var form = $(e.currentTarget);\n                    console.log(form.attr('action'));\n                    console.log(form.serialize());\n                    var model = window[form.closest(\".js_model\").attr('data-js_model')]; \n                    var valid = true;\n                    if (model.validate)\n                    {\n                        valid = model.validate(form);        \n                        console.log(\"form is: \" + valid);\n                    }\n                    if (valid)\n                    {\n                        $.ajax({\n                            url: form.attr('action'),\n                            data: form.serialize(),\n                            //dataType: json,\n                            success: function (data, s, jqxhr) \n                                     {\n                                        //Find the JS model that manages this view\n                                        data = JSON.parse(data);\n \n                                        //Call the success, error hooks\n                                        if (data.error)\n                                        {\n                                            model.error(data, form);\n                                        }\n                                        else\n                                        {\n                                            model.success(data, form);\n                                        }\n                                     },\n                        });\n                    }\n                    else \n                    {\n                        //TODO: Change to the bootstrap tooltip or something\n                        showMessage('error', \"Invalid entry\");\n                    }\n                    e.preventDefault();\n                });\n \n            }\n \n            function initializeStuff()\n            {\n                /*For the image upload and cropping*/\n                cur_jcrop = null;\n \n                $.ajaxSetup({\n                                beforeSend: function (xhr, settings) \n                                            {\n                                                xhr.setRequestHeader(\"X-CSRFToken\",$(\"input[name='csrfmiddlewaretoken']\").val());\n                                            },   \n                                type: 'POST'\n                            });\n \n \n                inlineEdits.initialize();\n                kitchenCuisineEdits.initialize();\n                kitchenTagEdits.initialize();\n                sliderEdits.initialize();\n \n                //Initialize all the AJAX links and forms\n                initializeAJAX();\n                initializeScriptForms();\n                $(\".ajax_trigger, input[type='submit']\").on('click', function(e) { hideMessage(); });\n \n                $('.lightbox_trigger').fancybox({padding: 0,\n                                                 onUpdate: function() { \n                                                                 cropImage(); \n                                                                 },\n                                                 /* \n                                                 beforeClose: function() {\n                                                                sliderEdits.ready_new_upload();\n                                                            }\n                                                */\n                                                 });\n \n \n                $('.kitchen_box_filter li').die('click');\n                $('.kitchen_box_filter li').live('click', function(e) {\n                    tag = $(e.currentTarget);\n                    tag.toggleClass('selected');\n                    var jsonData = {'tags': []};\n                    $.each($('.kitchen_box_filter li.selected'), function(i, v) {\n                        jsonData['tags'].push($(v).data('id'));\n                    });\n                    $.post('INSERT URL HERE INSERT URL HERE !!!!!', JSON.stringify(jsonData));\n                });\n \n            }\n \n            function cropImage()\n            {\n                //Remove Jcrop\n                if (cur_jcrop)\n                    cur_jcrop.destroy();\n \n                //Restart jcrop\n                jQuery('#form_uploadimage_2 img').Jcrop({\n                    aspectRatio: 1.33333,\n                    minSize: 100,\n                    setSelect: [0, 0, 300, 300], // if we've saved what they cropped last time, else delete\n                    onSelect: function(c) {\n                        console.log(c.x);\n                        console.log(c.x2);\n                        jQuery('#crop_x1').val(c.x);\n                        jQuery('#crop_x2').val(c.x2);\n                        jQuery('#crop_y1').val(c.y);\n                        jQuery('#crop_y2').val(c.y2);\n                        jQuery('#crop_w').val(c.w);\n                        jQuery('#crop_h').val(c.h);\n                    }\n                }, function() { cur_jcrop = this;});\n            }\n \n            function showLightbox(id) {\n                link = $('<a href=\"' + id + '\" class=\"lightbox_trigger\" style=\"display:none;\">Open</a>');\n                $('body').append(link);\n                link.click();\n                link.remove();\n            }\n \n            function hideLightbox() {\n                $.fancybox.close();\n            }\n \n            //type should be either info or error\n            function showMessage(type, message) {\n                $('.message').hide();\n                $('.message.'+type).html(message);\n                $('.message.'+type).show();\n            }\n \n            function hideMessage() {\n                $('.message').hide();\n            }\n \n        </script> \n \n</head> \n \n \n    <body><div id='wrapper_body'> \n        <div id='wrapper'><div id='wrapper_inner'> \n            <a name='top'></a> \n            <div id='heading'> \n                <a href='/' id='heading-title' class='blocklink'> \n                    <h1>The Brass Plate</h1> \n                    <div id='heading-title-inner'> \n                        <div id='heading-main'></div> \n                        <div id='heading-end'></div> \n                    </div> \n                </a> \n                <div class='clearfloats'></div> \n            </div> \n            <div id='content'> \n                <div class='pane message error'> \n                    This is an error message.\n                </div> \n                <div class='pane message info'> \n                    This is an info message.\n                </div> \n                <!-- end messages --> \n                <a name='description'></a> \n                <div id='kitchen_description' class='pane'> \n                    <h1> \n                        <span class='editabletext editableFheading' data-original-title=\"Enter your kitchen's name:\">Ct3&#39;s kitchen. Loaded.</span> \n                    </h1> \n                    <div class='kitchen_desc_left'> \n                        <div class='kitchen_info'>Location:\n                            <span class='editabletext editableFlocation' data-original-title=\"Select Area:\">Alwarpet</span> \n                        </div> \n                        <div class='kitchen_info'>Cuisine:\n                        </div> \n                        <div id='kitchen_description_editcuisines' class='editpage js_model' data-js_model=\"kitchenCuisineEdits\"> \n                            <br/> \n                            <ul> \n                                \n                                    <li>Gujarati - <a href='/cook/edit_kitchen/remove_cuisine/?kitchen_id=8&cuisine_id=1' class='ajax_trigger'>Remove</a></li> \n                                \n                                    <li>Bengali - <a href='/cook/edit_kitchen/remove_cuisine/?kitchen_id=8&cuisine_id=2' class='ajax_trigger'>Remove</a></li> \n                                \n                            </ul> \n                            <form action=\"/cook/edit_kitchen/add_cuisine/?kitchen_id=8\" class=\"editpage script_form\"> \n                                <label>Add cuisine:</label> \n                                    <select name=\"cuisine_id\" class='autocomplete_combo'> \n                                        <option value=''>Select...</option> \n                                        \n                                            <option value='1'>Gujarati</option> \n                                        \n                                            <option value='2'>Bengali</option> \n                                        \n                                    </select> \n                                <input type='submit' value='Add' /> \n                                <div class='clearfloats'></div> \n                            </form> \n                        </div> \n \n \n                        <br/> \n                        <div class='kitchen_info'>Tags: \n                        </div> \n                        <div id='kitchen_description_edittags' class='editpage js_model' data-js_model=\"kitchenTagEdits\"> \n                            <br/> \n                            <ul> \n                                \n                                    <li>high-oil - <a href='/cook/edit_kitchen/remove_tag/?kitchen_id=8&tag_type=2&tag_id=2&parent_id=8' class='ajax_trigger'>Remove</a></li> \n                                \n                            </ul> \n                            <form action=\"/cook/edit_kitchen/add_tag/?kitchen_id=8\" class=\"editpage script_form\"> \n                                <label>Add tag:</label> \n                                    <select name=\"tag_id\" class='autocomplete_combo'> \n                                        <option value=''>Select...</option> \n                                        \n                                            <option value='1'>Bengali</option> \n                                        \n                                            <option value='2'>high-oil</option> \n                                        \n                                            <option value='3'>super-spicy</option> \n                                        \n                                    </select> \n                                <input type='hidden' name='tag_type' value='2' /> \n                                <input type='hidden' name='parent_id' value='8' /> \n                                <input type='submit' value='Add' /> \n                                <div class='clearfloats'></div> \n                            </form> \n                        </div> \n \n                        <form id=\"featured_menuitem_form\" action='/cook/edit_kitchen/select_featured/?kitchen_id=8' class='editpage script_form js_model' data-js_model=\"featuredItemEdits\"> \n                            <label>Select item:</label> \n                                <select name='menuitem_id'> \n                                    <option value=\"-1\">None</option> \n                                    \n                                        <option value=\"6\">My Menu</option> \n                                    \n                                        <option value=\"7\">Featured Menu</option> \n                                    \n                                </select> \n                            <input type='submit' value='Select' /> \n                        </form> \n                    </div> \n \n                    <div class='kitchen_desc_right'> \n                        <!-- kitchen_profile_images div will be refreshed on every add and remove of a photo --> \n                        <div class='kitchen_profile_images'> \n                            <div class='description_image_sidebar'> \n                                <div class='menu_selector'>Featured Menu</div> \n                                <div class='description_image_sidebar_scroll'> \n                                      \n                                        <img src='/media/6/10/2.png'/> \n                                      \n                                        <img src='/media/6/10/23%3A23%3A32__18-02-2013.jpg'/> \n                                      \n                                        <img src='/media/6/10/23%3A07%3A35__19-02-2013.jpg'/> \n                                      \n                                        <img src='/media/6/10/23%3A08%3A16__19-02-2013.jpg'/> \n                                      \n                                        <img src='/media/6/10/23%3A09%3A22__19-02-2013.jpg'/> \n                                    \n                                </div> \n                            </div> \n                            <!-- Featured MenuItem--> \n                            \n                                <div class='kitchen_box featured_menu'> \n                                <h3>Featured Menu</h3> \n                                    <div class='kitchen_tags'> \n                                        \n                                    </div> \n                                    \n                                    <div class='kitchen_price'><span class='rupee_symbol'>`</span> 0</div> \n                                    <div class='kitchen_description'> \n                                        <p>Item 1<br />Item 2</p> \n                                    </div> \n                                    <div class='kitchen_description'> \n                                        <p></p> \n                                    </div> \n                                </div> \n                            \n                            <div id='slider' class='nivoslider'> \n                                  \n                                    <img title=\"<a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=11' class='ajax_trigger confirm' data-confirm_message='Are you sure you want to remove this image? It will be deleted permanently.'>Remove</a>\" src='/media/6/10/2.png'/> \n                                  \n                                    <img title=\"<a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=156' class='ajax_trigger confirm' data-confirm_message='Are you sure you want to remove this image? It will be deleted permanently.'>Remove</a>\" src='/media/6/10/23%3A23%3A32__18-02-2013.jpg'/> \n                                  \n                                    <img title=\"<a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=181' class='ajax_trigger confirm' data-confirm_message='Are you sure you want to remove this image? It will be deleted permanently.'>Remove</a>\" src='/media/6/10/23%3A07%3A35__19-02-2013.jpg'/> \n                                  \n                                    <img title=\"<a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=182' class='ajax_trigger confirm' data-confirm_message='Are you sure you want to remove this image? It will be deleted permanently.'>Remove</a>\" src='/media/6/10/23%3A08%3A16__19-02-2013.jpg'/> \n                                  \n                                    <img title=\"<a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=183' class='ajax_trigger confirm' data-confirm_message='Are you sure you want to remove this image? It will be deleted permanently.'>Remove</a>\" src='/media/6/10/23%3A09%3A22__19-02-2013.jpg'/> \n                                \n                            </div> \n                            <div class='clearfloats'></div> \n                            <div id='form_uploadimage' class='editpage js_model' data-js_model=\"sliderEdits\"> \n                                  \n                                    <li><a href='/media/6/10/2.png'>sample 1</a> - stored as: 6/10/2.png &nbsp; - <a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=11' class='ajax_trigger confirm' data-confirm_message=\"Are you sure you want to remove this image? It will be deleted permanently.\">Remove</a></li> \n                                  \n                                    <li><a href='/media/6/10/23%3A23%3A32__18-02-2013.jpg'>asdw</a> - stored as: 6/10/23:23:32__18-02-2013.jpg &nbsp; - <a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=156' class='ajax_trigger confirm' data-confirm_message=\"Are you sure you want to remove this image? It will be deleted permanently.\">Remove</a></li> \n                                  \n                                    <li><a href='/media/6/10/23%3A07%3A35__19-02-2013.jpg'>ads2</a> - stored as: 6/10/23:07:35__19-02-2013.jpg &nbsp; - <a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=181' class='ajax_trigger confirm' data-confirm_message=\"Are you sure you want to remove this image? It will be deleted permanently.\">Remove</a></li> \n                                  \n                                    <li><a href='/media/6/10/23%3A08%3A16__19-02-2013.jpg'>asdf2</a> - stored as: 6/10/23:08:16__19-02-2013.jpg &nbsp; - <a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=182' class='ajax_trigger confirm' data-confirm_message=\"Are you sure you want to remove this image? It will be deleted permanently.\">Remove</a></li> \n                                  \n                                    <li><a href='/media/6/10/23%3A09%3A22__19-02-2013.jpg'>asdfa</a> - stored as: 6/10/23:09:22__19-02-2013.jpg &nbsp; - <a href='/cook/edit_kitchen/remove_image/?kitchen_id=8&foodphoto_id=183' class='ajax_trigger confirm' data-confirm_message=\"Are you sure you want to remove this image? It will be deleted permanently.\">Remove</a></li> \n                                \n                                <input type='button' value='Add Image to Slider' href='#form_uploadimage_1' class='lightbox_trigger' /> \n                                <div class='clearfloats'></div> \n                            </div> \n                            <a href=\"/cook/edit_kitchen/refresh_slider/?kitchen_id=8\" class=\"ajax_trigger js_model\" id=\"refresh_slider_btn\" data-js_model=\"sliderEdits\" style=\"display:none;\">Refresh Slider</a> \n                        </div> \n                        <div class='kitchen_profile_desc'> \n                            <div class='editableare editableFdescription' data-original-title=\"Kitchen description\"><p>This is CT3&#39;s kitchen. Good error handling now in place for the inlines.</p> \n \n<p>Yay wokring working. <br /></p></div> \n                        </div> \n                    </div> \n                    <div class='clearfloats'></div> \n                </div> \n                <a name='samplemenu'></a> \n                <div class='pane' id='samplemenus'> \n                    <h1>Items</h1> \n                    <a href='#top' class='toplink'>Top</a> \n                    <div class='kitchen_box_filter'> \n                        <h3>Filter</h3> \n                        <ul> \n                            \n                                <li data-id='1'>Bengali</li> \n                            \n                                <li data-id='2'>high-oil</li> \n                            \n                                <li data-id='3'>super-spicy</li> \n                            \n                                <li data-id='4'>template-meal</li> \n                            \n                                <li data-id='5'>no-dessert</li> \n                            \n                            </ul> \n                        </div> \n \n                        <div class='kitchen_boxes'> \n                        \n                            <div class='kitchen_box'> \n                                <h3>My Menu</h3> \n                                <div class='kitchen_tags'> \n                                    \n                                        #template-meal, \n                                    \n                                        #no-dessert\n                                    \n                                </div> \n                                \n                                <div class='kitchen_price'><span class='rupee_symbol'>`</span> 0</div> \n                                <div class='kitchen_description'> \n                                    <p>Enter menu content here</p> \n                                </div> \n                                <a href='http://edit script' class='ajax_trigger'>Edit</a> | \n                                <a href='http://remove script' class='ajax_trigger'>Delete</a> \n                            </div> \n                        \n                            <div class='kitchen_box'> \n                                <h3>Featured Menu</h3> \n                                <div class='kitchen_tags'> \n                                    \n                                </div> \n                                \n                                <div class='kitchen_price'><span class='rupee_symbol'>`</span> 0</div> \n                                <div class='kitchen_description'> \n                                    <p>Item 1<br />Item 2</p> \n                                </div> \n                                <a href='http://edit script' class='ajax_trigger'>Edit</a> | \n                                <a href='http://remove script' class='ajax_trigger'>Delete</a> \n                            </div> \n                        \n                    </div><!-- kitchen_boxes --> \n \n                    <input href='#form_add_menu' type='button' value='Add A Menu' class='editpage lightbox_trigger' /> \n                    <div class='clearfloats'></div> \n                </div> \n                <div class='clearfloats'></div> \n            </div><!-- content --> \n        </div></div><!-- #wrapper --> \n \n        <div id='sidebar'> \n            <div class='sidebar_navigation_links'> \n                <a href='#'>Sign Up</a><br/> \n                <a href='#'>About Us</a> \n            </div> \n            <div class='pane'> \n                <a href='#' class='sidebar_username'>Hi Tanmai!</a><br/> \n                <a href='#description'>Profile</a><br/> \n                <a href='#samplemenu'>Kitchens</a><br/> \n                <a href='#'>Logout</a> \n            </div> \n            <div class='pane'> \n                <a href='#'>Description</a><br/> \n                <a href='#'>Sample Menu</a> \n            </div> \n            <div class='pane'> \n                <ul class='sidebar_comments'> \n                    <li>This is a comment --Anon</li> \n                    <li>This is another comment --Anon</li> \n                    <li>Here's some more text about how wonderful this is! --Someone else</li> \n                </ul> \n            </div> \n        </div><!-- #sidebar --> \n        <div class='clearfloats'></div> \n \n        <div id='footer'> \n            <div class='social_icons'> \n                <a href='https://www.facebook.com/TheBrassPlate' class='icon-facebook' class='blocklink'></a> \n                <!--<a class='icon-twitter' class='blocklink'></a>\n                <a class='icon-tumblr' class='blocklink'></a>--> \n            </div> \n            <div class='footer_text'> \n                An initiative of Brassplate Enterprises <span class=\"copyright-symbol\">&#169;</span> \n            </div> \n            <div class='clearfloats'></div> \n        </div> \n \n        <div id='hiddenstuff'> \n            <div id='form_uploadimage_1' class='lightbox'> \n                <h1>Upload an Image</h1> \n                <form id=\"upload_new_image\" action='/cook/edit_kitchen/upload_new_image/?kitchen_id=8&photo_set_id=10' target='upload_frame' enctype=\"multipart/form-data\" method=\"POST\"> \n                    <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='nnISCy0otML4KzNkX6E0aKQHpXO7UW5E' /></div> \n                    <label>Image</label> \n                    <input type='text' name=\"photo_name\" value=\"\"/><br/> \n                    <input name='filename' type='file'/> \n                    <input type='submit' value='Upload'/> \n                    <div class='clearfloats'></div> \n                </form> \n                <iframe id='upload_frame' name='upload_frame' width=\"300px\" height=\"300px\" style='display:none;'></iframe> \n            </div> \n \n            <div id='form_uploadimage_2' class='lightbox'> \n                <h1>Crop the Image</h1> \n                <form data-js_model=\"sliderEdits\" class=\"script_form js_model\" method=\"POST\" action=\"/cook/edit_kitchen/crop_photo/?kitchen_id=8\"> \n                    <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='nnISCy0otML4KzNkX6E0aKQHpXO7UW5E' /></div> \n                    <input value=\"0\" type='hidden' name='crop_x1' id='crop_x1' /> \n                    <input value=\"0\" type='hidden' name='crop_x2' id='crop_x2' /> \n                    <input value=\"0\" type='hidden' name='crop_y1' id='crop_y1' /> \n                    <input value=\"0\" type='hidden' name='crop_y2' id='crop_y2' /> \n                    <input value=\"0\" type='hidden' name='width'  id='crop_w' /> \n                    <input value=\"0\" type='hidden' name='height'  id='crop_h' /> \n                    <input type='submit' value='Crop' /> \n                    <div class='clearfloats'></div> \n                </form> \n            </div> \n \n            <div id='form_add_menu' class='lightbox js_model' data-js_model=\"menuitemEdits\"> \n                <h1>Add New Item</h1> \n                <form id=\"add_menu_form\" class=\"script_form\"> \n                    <label>Name</label><input type=text value=\"\" name=\"name\" placeholder=\"Enter name here\"/> \n                    <label>Items</label><textarea name=\"items\" placeholder=\"Enter a very brief desctiption here\"></textarea> \n                    <input type='submit' value='Proceed'/> \n                    <div class='clearfloats'></div> \n                </form> \n            </div> \n            <div id='form_add_edit_menu_tags' class='lightbox'> \n                <h1>Add [Edit] Menu | Edit Tags</h1> \n                <form> \n                    <label>Add tag:</label><input class='autocomplete_combo'/> \n                    <select class='autocomplete_combo'> \n                        <option value=''>Select...</option> \n                        <option value='Apple'>Apple</option> \n                        <option value='Ball'>Ball</option> \n                        <option value='Cat'>Cat</option> \n                    </select> \n                    <input type='submit' value='Add' /> \n                    <div class='clearfloats'></div> \n                </form> \n                <ul> \n                    <li>Tag - <a href='http://www.delete_url_here' class='ajax_trigger'>Remove</a></li> \n                    <li>Tag - <a href='http://www.delete_url_here' class='ajax_trigger'>Remove</a></li> \n                    <li>Tag - <a href='http://www.delete_url_here' class='ajax_trigger'>Remove</a></li> \n                </ul> \n                <input type='button' href='http://www.get_script_url_for_save' value='Save' /> \n                <div class='clearfloats'></div> \n            </div> \n            <div id='form_login' class='lightbox'> \n                <h1>Log In</h1> \n                <form> \n                    <label>Username</label><input /> \n                    <label>Password</label><input type='password' /> \n                    <input type='submit' value='Login'/> \n                    <div class='clearfloats'></div> \n                </form> \n            </div> \n            <div id='form_sign_up' class='lightbox'> \n                <h1>Sign Up</h1> \n                <form> \n                    <label>Username</label><input /> \n                    <label>Password</label><input type='password' /> \n                    <label>Confirm Password</label><input type='password' /> \n                    <input type='submit' value='Sign Up'/> \n                    <div class='clearfloats'></div> \n                </form> \n            </div> \n        </div><!-- #hiddenstuff --> \n    </div></body> \n \n \n \n</html> \n"]],"start1":0,"start2":0,"length1":0,"length2":53110}]],"length":53110}
