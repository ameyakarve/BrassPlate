var simpleEvents=require("nodeunit").testCase,file="../../lib/eventemitter2",EventEmitter2;EventEmitter2="undefined"!=typeof require?require(file).EventEmitter2:window.EventEmitter2,module.exports=simpleEvents({"removeListener1. adding 1, removing 1":function(e){var t,n=new EventEmitter2,r="remove",i=function i(){e.ok(!0,"event was raised")};n.on(r,i),t=n.listeners(r),e.equal(t.length,1,"should only have 1"),n.removeListener(r,i),t=n.listeners(r),e.equal(t.length,0,"should be 0"),e.expect(2),e.done()},"removeListener2. adding 2, removing 1":function(e){var t,n=new EventEmitter2,r="remove",i=function i(){e.ok(!0,"event was raised")};n.on(r,i),n.on(r,i),t=n.listeners(r),e.equal(t.length,2,"should only have 2"),n.removeListener(r,i),t=n.listeners(r),e.equal(t.length,1,"should be 1"),e.expect(2),e.done()},"removeListener3. adding 3, removing 1":function(e){var t,n=new EventEmitter2,r="remove",i=function i(){e.ok(!0,"event was raised")};n.on(r,i),n.on(r,i),n.on(r,i),t=n.listeners(r),e.equal(t.length,3,"should only have 3"),n.removeListener(r,i),t=n.listeners(r),e.equal(t.length,2,"should be 2"),e.expect(2),e.done()},"removeListener4. should error if we don't pass in a function":function(e){var t,n=new EventEmitter2,r="remove",i=function i(){e.ok(!0,"event was raised")};n.on(r,i),t=n.listeners(r),e.equal(t.length,1,"should only have 1"),e.throws(function(){n.removeListener(r,r)},Error,"should throw an Error"),t=n.listeners(r),e.equal(t.length,1,"should be 1"),e.expect(3),e.done()},"removeListener5. removing a different function, should not remove":function(e){var t,n=new EventEmitter2,r="remove",i=function i(){e.ok(!0,"event was raised")},o=function o(){e.ok(!0,"event was raised")};n.on(r,i),t=n.listeners(r),e.equal(t.length,1,"should only have 1"),n.removeListener(r,o),t=n.listeners(r),e.equal(t.length,1,"should be 1"),e.expect(2),e.done()},"removeListener6. removing all functions":function(e){for(var t,n=new EventEmitter2,r="remove",i=function i(){e.ok(!0,"event was raised")},o=0;10>o;o++)n.on(r,i);t=n.listeners(r),e.equal(t.length,10,"should only have 10"),n.removeListener(r,i),t=n.listeners(r),e.equal(t.length,9,"should be 9"),n.removeAllListeners(r),t=n.listeners(r),e.equal(t.length,0,"should be 0"),e.expect(3),e.done()},"removeListener7. removing different event, should not remove":function(e){for(var t,n=new EventEmitter2,r="remove",i=function i(){e.ok(!0,"event was raised")},o=0;10>o;o++)n.on(r,i);t=n.listeners(r),e.equal(t.length,10,"should only have 10"),n.removeListener(r+r,i),t=n.listeners(r),e.equal(t.length,10,"should be 10"),n.removeAllListeners(r+r),t=n.listeners(r),e.equal(t.length,10,"should be 10"),n.removeAllListeners(r),t=n.listeners(r),e.equal(t.length,0,"should be 0"),e.expect(4),e.done()}});