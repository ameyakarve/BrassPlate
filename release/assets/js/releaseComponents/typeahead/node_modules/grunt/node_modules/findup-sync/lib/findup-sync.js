/*
 * findup-sync
 * https://github.com/cowboy/node-findup-sync
 *
 * Copyright (c) 2012 "Cowboy" Ben Alman
 * Licensed under the MIT license.
 */

var path=require("path"),glob=require("glob"),_=require("lodash");module.exports=function(e,t){Array.isArray(e)||(e=[e]);var n=Object.create(t||{});n.maxDepth=1,n.cwd=path.resolve(n.cwd);var r,i;do{if(r=_.chain(e).map(function(e){return glob.sync(e,n)}).flatten().uniq().value(),r.length>0)return path.resolve(path.join(n.cwd,r[0]));i=n.cwd,n.cwd=path.resolve(n.cwd,"..")}while(n.cwd!==i);return null};