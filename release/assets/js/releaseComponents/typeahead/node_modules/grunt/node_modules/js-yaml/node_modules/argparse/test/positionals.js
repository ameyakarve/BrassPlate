var assert=require("assert"),ArgumentParser=require("../lib/argparse").ArgumentParser;describe("positionals",function(){var e,t;it("test the 'append' action",function(){e=new ArgumentParser({debug:!0}),e.addArgument(["spam"],{action:"append"}),e.addArgument(["spam"],{action:"append",nargs:2}),t=e.parseArgs(["a","b","c"]),assert.deepEqual(t,{spam:["a",["b","c"]]}),assert.throws(function(){t=e.parseArgs([])}),assert.throws(function(){t=e.parseArgs(["--foo"])}),assert.throws(function(){t=e.parseArgs(["a"])}),assert.throws(function(){t=e.parseArgs(["a","b"])}),assert.throws(function(){t=e.parseArgs(["a","b","c","d"])})}),it("test a set of integer choices",function(){e=new ArgumentParser({debug:!0}),e.addArgument(["spam"],{type:"int",choices:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}),t=e.parseArgs(["4"]),assert.deepEqual(t,{spam:4}),t=e.parseArgs(["15"]),assert.deepEqual(t,{spam:15}),assert.throws(function(){t=e.parseArgs([])}),assert.throws(function(){t=e.parseArgs(["--foo"])}),assert.throws(function(){t=e.parseArgs(["h"])}),assert.throws(function(){t=e.parseArgs(["42"])}),assert.throws(function(){t=e.parseArgs(["ef"])})}),it("test a set of single-character choices",function(){e=new ArgumentParser({debug:!0}),e.addArgument(["spam"],{choices:["a","c","b","e","d","g","f"]}),t=e.parseArgs(["a"]),assert.deepEqual(t,{spam:"a"}),t=e.parseArgs(["g"]),assert.deepEqual(t,{spam:"g"}),assert.throws(function(){t=e.parseArgs([])}),assert.throws(function(){t=e.parseArgs(["--foo"])}),assert.throws(function(){t=e.parseArgs(["h"])}),assert.throws(function(){t=e.parseArgs(["42"])}),assert.throws(function(){t=e.parseArgs(["ef"])})})});