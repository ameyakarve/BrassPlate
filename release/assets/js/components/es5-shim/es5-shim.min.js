(function(e){"function"==typeof define?define(e):"function"==typeof YUI?YUI.add("es5",e):e()})(function(){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var r=n.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=t.prototype;var o=new o,s=t.apply(o,r.concat(n.call(arguments)));return Object(s)===s?s:o}return t.apply(e,r.concat(n.call(arguments)))};return i});var e=Function.prototype.call,t=Object.prototype,n=Array.prototype.slice,r=e.bind(t.toString),i=e.bind(t.hasOwnProperty);if(i(t,"__defineGetter__")&&(e.bind(t.__defineGetter__),e.bind(t.__defineSetter__),e.bind(t.__lookupGetter__),e.bind(t.__lookupSetter__)),Array.isArray||(Array.isArray=function(e){return"[object Array]"==r(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n=v(this),i=-1,o=n.length>>>0;if("[object Function]"!=r(e))throw new TypeError;for(;o>++i;)i in n&&e.call(t,n[i],i,n)}),Array.prototype.map||(Array.prototype.map=function(e,t){var n=v(this),i=n.length>>>0,o=Array(i);if("[object Function]"!=r(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)s in n&&(o[s]=e.call(t,n[s],s,n));return o}),Array.prototype.filter||(Array.prototype.filter=function(e,t){var n,i=v(this),o=i.length>>>0,s=[];if("[object Function]"!=r(e))throw new TypeError(e+" is not a function");for(var a=0;o>a;a++)a in i&&(n=i[a],e.call(t,n,a,i)&&s.push(n));return s}),Array.prototype.every||(Array.prototype.every=function(e,t){var n=v(this),i=n.length>>>0;if("[object Function]"!=r(e))throw new TypeError(e+" is not a function");for(var o=0;i>o;o++)if(o in n&&!e.call(t,n[o],o,n))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e,t){var n=v(this),i=n.length>>>0;if("[object Function]"!=r(e))throw new TypeError(e+" is not a function");for(var o=0;i>o;o++)if(o in n&&e.call(t,n[o],o,n))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=v(this),n=t.length>>>0;if("[object Function]"!=r(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in t){i=t[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>o;o++)o in t&&(i=e.call(void 0,i,t[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=v(this),n=t.length>>>0;if("[object Function]"!=r(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,n=n-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(n in t){i=t[n--];break}if(0>--n)throw new TypeError("reduceRight of empty array with no initial value")}do n in this&&(i=e.call(void 0,i,t[n],n,t));while(n--);return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=v(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=m(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){var t=v(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,m(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),!Object.keys){var o,s=!0,a="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),u=a.length;for(o in{toString:null})s=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)i(e,t)&&n.push(t);if(s)for(t=0;u>t;t++){var r=a[t];i(e,r)&&n.push(r)}return n}}if(Date.prototype.toISOString&&-1!==new Date(-621987552e5).toISOString().indexOf("-000001")||(Date.prototype.toISOString=function(){var e,t,n,r;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(e=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=this.getUTCFullYear(),r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError("toISOString property is not callable");return this.toISOString()}),!Date.parse||864e13!==Date.parse("+275760-09-13T00:00:00.000Z")){var l,c=Date,e=function f(e,t,n,r,i,o,s){var a=arguments.length;return this instanceof c?(a=1==a&&e+""===e?new c(f.parse(e)):a>=7?new c(e,t,n,r,i,o,s):a>=6?new c(e,t,n,r,i,o):a>=5?new c(e,t,n,r,i):a>=4?new c(e,t,n,r):a>=3?new c(e,t,n):a>=2?new c(e,t):a>=1?new c(e):new c,a.constructor=f,a):c.apply(this,arguments)},p=RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(l in c)e[l]=c[l];e.now=c.now,e.UTC=c.UTC,e.prototype=c.prototype,e.prototype.constructor=e,e.parse=function(e){var t=p.exec(e);if(t){t.shift();for(var n=1;7>n;n++)t[n]=+(t[n]||(3>n?1:0)),1==n&&t[n]--;var r=+t.pop(),i=+t.pop(),o=t.pop(),n=0;if(o){if(i>23||r>59)return 0/0;n=6e4*(60*i+r)*("+"==o?-1:1)}return r=+t[0],r>=0&&99>=r?(t[0]=r+400,c.UTC.apply(this,t)+n-126227808e5):c.UTC.apply(this,t)+n}return c.parse.apply(this,arguments)},Date=e}if(l="	\n\f\r   ᠎             　\u2028\u2029﻿",!String.prototype.trim||l.trim()){l="["+l+"]";var d=RegExp("^"+l+l+"*"),h=RegExp(l+l+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return(this+"").replace(d,"").replace(h,"")}}var m=function(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},g="a"!="a"[0],v=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return g&&"string"==typeof e&&e?e.split(""):Object(e)}});