(function(e,t){function n(e){for(e||(e=1);e--;)ok(!0,"test skipped")}var r="function"==typeof require?require:e.load,i=e.platform||r("../vendor/platform.js/platform.js")||e.platform,o=e.QUnit||(e.setTimeout||(e.addEventListener=e.setTimeout=/ /),e.QUnit=r("../vendor/qunit/qunit/qunit"+("Narwhal"==i.name?"-1.8.0":"")+".js")||e.QUnit,r("../vendor/qunit-clib/qunit-clib.js"),(e.addEventListener||0).test&&delete e.addEventListener,e.QUnit),a=e._||(a=r("../lodash.js")||e._,a._||a),s=[t,"",0,!1,0/0,null,t],u=Object.freeze,l=function(e){try{var t={};return e(t,t,t)&&e}catch(n){}}(Object.defineProperty),c=[].slice,f={constructor:1,hasOwnProperty:2,isPrototypeOf:3,propertyIsEnumerable:4,toLocaleString:5,toString:6,valueOf:7},d=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];(function(){if(e.document){var t=document.body,n=document.createElement("iframe");n.frameBorder=n.height=n.width=0,t.appendChild(n);var r=(r=n.contentDocument||n.contentWindow).document||r;r.write("<script>parent._._object = { 'a': 1, 'b': 2, 'c': 3 };</script>"),r.close()}})(),o.module("lodash"),function(){test('supports loading lodash.js as the "lodash" module',function(){e.document&&e.require?equal((lodashModule||{}).moduleName,"lodash"):n()}),test('supports loading lodash.js with the Require.js "shim" configuration option',function(){e.document&&e.require?equal((shimmedModule||{}).moduleName,"shimmed"):n()}),test('supports loading lodash.js as the "underscore" module',function(){e.document&&e.require?equal((underscoreModule||{}).moduleName,"underscore"):n()}),test("avoids overwritten native methods",function(){e.document?notDeepEqual(lodashBadShim.keys({a:1}),[]):n()})}(),o.module("lodash constructor"),function(){test("creates a new instance when called without the `new` operator",function(){ok(a()instanceof a)}),test("should return passed LoDash instances",function(){var e=a([]);equal(a(e),e)})}(),o.module("lodash.bind"),function(){test("should append array arguments to partially applied arguments (test in IE < 9)",function(){var e,t=a.bind(function(){e=c.call(arguments)},{},"a");t(["b"],"c"),deepEqual(e,["a",["b"],"c"])})}(),o.module("lodash.clone"),function(){function r(){this.a=1}r.prototype={b:1};var i={"an arguments object":arguments,"an element":e.document&&document.body,"a function":r,"a Klass instance":new r},o={"an array":["a","b","c",""],"an array-like-object":{0:"a",1:"b",2:"c",3:"",length:5},"boolean":!1,"boolean object":Object(!1),"an object":{a:0,b:1,c:3},"an object with object values":{a:/a/,b:["B"],c:{C:1}},"an object from another document":a._object||{},"null":null,"a number":3,"a number object":Object(3),"a regexp":/a/gim,"a string":"a","a string object":Object("a"),undefined:t};o["an array"].length=5,a.forOwn(o,function(e,t){test("should deep clone "+t,function(){var t=a.clone(e,!0);ok(a.isEqual(e,t)),a.isObject(e)?ok(t!==e):n()})}),a.forOwn(i,function(e,t){test("should not clone "+t,function(){ok(a.clone(e)===e),ok(a.clone(e,!0)===e)})}),test("should shallow clone when used as `callback` for `_.map`",function(){var e=[{a:[0]},{b:[1]}],t=a.map(e,a.clone);ok(t!=e&&t.a==e.a&&t.b==e.b)}),test("should deep clone objects with circular references",function(){var e={foo:{b:{foo:{c:{}}}},bar:{}};e.foo.b.foo.c=e,e.bar.b=e.foo.b;var t=a.clone(e,!0);ok(t.bar.b===t.foo.b&&t===t.foo.b.foo.c&&t!==e)}),test("should clone problem JScript properties (test in IE < 9)",function(){deepEqual(a.clone(f),f),ok(a.clone(f)!=f),deepEqual(a.clone(f,!0),f),ok(a.clone(f,!0)!=f)})}(1,2,3),o.module("lodash.contains"),function(){a.each({"an array":[1,2,3,1,2,3],"an object":{a:1,b:2,c:3,d:1,e:2,f:3},"a string":"123123"},function(e,n){test("should work with "+n+" and a positive `fromIndex`",function(){equal(a.contains(e,1,2),!0)}),test("should work with "+n+" and a `fromIndex` >= collection's length",function(){equal(a.contains(e,1,6),!1),equal(a.contains(e,t,6),!1),equal(a.contains(e,1,8),!1),equal(a.contains(e,t,8),!1)}),test("should work with "+n+" and a negative `fromIndex`",function(){equal(a.contains(e,2,-3),!0)}),test("should work with "+n+" and a negative `fromIndex` <= negative collection's length",function(){equal(a.contains(e,1,-6),!0),equal(a.contains(e,2,-8),!0)})}),a.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection`",function(){equal(a.contains(e,"bc"),!0),equal(a.contains(e,"d"),!1)})})}(),o.module("lodash.countBy"),function(){test("should only add values to own, not inherited, properties",function(){var e=a.countBy([4.2,6.1,6.4],function(e){return Math.floor(e)>4?"hasOwnProperty":"constructor"});equal(e.constructor,1),equal(e.hasOwnProperty,2)})}(),o.module("lodash.debounce"),function(){asyncTest("subsequent debounced calls return the last `func` result",function(){var e=a.debounce(function(e){return e},90);e("x"),setTimeout(function(){equal(e("y"),"x"),o.start()},120)}),test('subsequent "immediate" debounced calls return the last `func` result',function(){var e=a.debounce(function(e){return e},90,!0),t=[e("x"),e("y")];deepEqual(t,["x","x"])})}(),o.module("lodash.difference"),function(){test("should work when using `cachedContains`",function(){var e=a.range(27),t=e.slice(),n={},r={},i={};e.push(n,r,i),t.push(r,i,n),deepEqual(a.difference(e,t),[])})}(),o.module("lodash.escape"),function(){test('should not escape the "/" character',function(){equal(a.escape("/"),"/")}),test("should return an empty string when passed `null` or `undefined`",function(){equal(a.escape(null),""),equal(a.escape(t),"")})}(),o.module("lodash.every"),function(){test("should return `false` as soon as the `callback` result is falsey",function(){equal(a.every([!0,null,!0],a.identity),!1)})}(),o.module("lodash.extend"),function(){test("should not error on `null` or `undefined` sources (test in IE < 9)",function(){try{deepEqual(a.extend({},null,t,{a:1}),{a:1})}catch(e){ok(!1)}}),test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.c=3,e.a=1,e.b=2;var t={a:1,b:2};deepEqual(a.extend({},e),t),e.prototype={c:3},deepEqual(a.extend({},e),t)})}(),o.module("strict mode checks"),a.each(["bindAll","defaults","extend"],function(e){var t=a[e];test("lodash."+e+" should not throw strict mode errors",function(){var r={a:null,b:function(){}},i=!0;if(u){u(r);try{"bindAll"==e?t(r):t(r,{a:1})}catch(o){i=!1}ok(i)}else n()})}),o.module("lodash.filter"),function(){test("should not modify the resulting value from within `callback`",function(){var e=a.filter([0],function(e,t,n){return n[t]=1});deepEqual(e,[0])})}(),o.module("lodash.find"),function(){var e=[1,2,3];test("should return found `value`",function(){equal(a.find(e,function(e){return e>2}),3)}),test("should return `undefined` if `value` is not found",function(){equal(a.find(e,function(e){return 4==e}),t)})}(),o.module("lodash.flatten"),function(){test("should treat sparse arrays as dense",function(){var e=[[1,2,3],Array(3)],n=[1,2,3],r=a.flatten(e),i=a.flatten(e,!0);n.push(t,t,t),deepEqual(r,n),ok("4"in r),deepEqual(i,n),ok("4"in i)})}(),o.module("lodash.forEach"),function(){test("returns the collection",function(){var e=[1,2,3];equal(a.forEach(e,Boolean),e)}),a.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=[];a.forEach(e,function(e){t||(t=c.call(arguments)),n.push(e)}),deepEqual(t,["a",0,e]),deepEqual(n,["a","b","c"])})})}(),o.module("lodash.forIn"),function(){test("iterates over inherited properties",function(){function e(e){this.name=e}e.prototype.bark=function(){};var t=[];a.forIn(new e("Dagny"),function(e,n){t.push(n)}),deepEqual(t.sort(),["bark","name"])})}(),o.module("lodash.forOwn"),function(){test("iterates over the `length` property",function(){var e=[],t={0:"zero",1:"one",length:2};a.forOwn(t,function(t,n){e.push(n)}),deepEqual(e.sort(),["0","1","length"])})}(),o.module("object iteration bugs"),a.each(["forEach","forIn","forOwn"],function(e){var t=a[e];test("lodash."+e+" fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){var e=[];t(f,function(t,n){e.push(n)}),deepEqual(e.sort(),d)}),test("lodash."+e+" skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}function n(e,t){r.push(t)}e.prototype.a=1;var r=[];t(e,n),deepEqual(r,[]),r.length=0,e.prototype={a:1},t(e,n),deepEqual(r,[])})}),o.module("exit early"),a.each(["forEach","forIn","forOwn"],function(e){var t=a[e];test("lodash."+e+" can exit early when iterating arrays",function(){var e=[1,2,3],n=[];t(e,function(e){return n.push(e),!1}),deepEqual(n,[1])}),test("lodash."+e+" can exit early when iterating objects",function(){var e={a:1,b:2,c:3},n=[];t(e,function(e){return n.push(e),!1}),equal(n.length,1)})}),o.module("lodash.groupBy"),function(){test("supports the `thisArg` argument",function(){var e=a.groupBy([4.2,6.1,6.4],function(e){return this.floor(e)},Math);deepEqual(e,{4:[4.2],6:[6.1,6.4]})}),test("should only add values to own, not inherited, properties",function(){var e=a.groupBy([4.2,6.1,6.4],function(e){return Math.floor(e)>4?"hasOwnProperty":"constructor"});deepEqual(e.constructor,[4.2]),deepEqual(e.hasOwnProperty,[6.1,6.4])}),test("should work with an object for `collection`",function(){var e=a.groupBy({a:4.2,b:6.1,c:6.4},function(e){return Math.floor(e)});deepEqual(e,{4:[4.2],6:[6.1,6.4]})})}(),o.module("lodash.indexOf"),function(){var e=[1,2,3,1,2,3];test("should work with a positive `fromIndex`",function(){equal(a.indexOf(e,1,2),3)}),test("should work with `fromIndex` >= `array.length`",function(){equal(a.indexOf(e,1,6),-1),equal(a.indexOf(e,t,6),-1),equal(a.indexOf(e,1,8),-1),equal(a.indexOf(e,t,8),-1)}),test("should work with a negative `fromIndex`",function(){equal(a.indexOf(e,2,-3),4)}),test("should work with a negative `fromIndex` <= `-array.length`",function(){equal(a.indexOf(e,1,-6),0),equal(a.indexOf(e,2,-8),1)}),test("should ignore non-number `fromIndex` values",function(){equal(a.indexOf([1,2,3],1,"1"),0)}),test("should work with `isSorted`",function(){equal(a.indexOf([1,2,3],1,!0),0)})}(),o.module("lodash.initial"),function(){test("returns an empty collection for `n` of `0`",function(){var e=[1,2,3];deepEqual(a.initial(e,0),[])}),test("should allow a falsey `array` argument",function(){a.each(s,function(e,t){try{var n=e?a.initial(t):a.initial()}catch(r){}deepEqual(n,[])})})}(),o.module("lodash.invoke"),function(){test("should work with an object for `collection`",function(){var e={a:1,b:2,c:3};deepEqual(a.invoke(e,"toFixed",1),["1.0","2.0","3.0"])})}(),o.module("lodash.isElement"),function(){test("should use strict equality in its duck type check",function(){var t=e.document?document.body:{nodeType:1};equal(a.isElement(t),!0),equal(a.isElement({nodeType:new Number(1)}),!1),equal(a.isElement({nodeType:!0}),!1),equal(a.isElement({nodeType:[1]}),!1),equal(a.isElement({nodeType:"1"}),!1),equal(a.isElement({nodeType:"001"}),!1)})}(),o.module("lodash.isEmpty"),function(){var e=arguments;test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(a.isEmpty(f),!1)}),test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.a=1,equal(a.isEmpty(e),!0),e.prototype={a:1},equal(a.isEmpty(e),!0)}),test("should work with an object that has a `length` property",function(){equal(a.isEmpty({length:0}),!1)}),test("should work with jQuery/MooTools DOM query collections",function(){function e(e){Array.prototype.push.apply(this,e)}e.prototype={length:0,splice:Array.prototype.splice},equal(a.isEmpty(new e([])),!0)}),test("should work with `arguments` objects (test in IE < 9)",function(){equal(a.isEmpty(e),!1)})}(1,2,3),o.module("lodash.isEqual"),function(){test("should work with `arguments` objects (test in IE < 9)",function(){var e=function(){return arguments}(1,2,3),t=function(){return arguments}(1,2,3),n=function(){return arguments}(1,2);equal(a.isEqual(e,t),!0),equal(a.isEqual(e,n),!1)}),test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(a.isEqual(f,{}),!1)}),test("should return `true` for like-objects from different documents",function(){if(a._object){var e={a:1,b:2,c:3};equal(a.isEqual(e,a._object),!0)}else n()}),test("should return `false` when comparing values with circular references to unlike values",function(){var e=["a",null,"c"],t=["a",[],"c"],n={a:1,b:null,c:3},r={a:1,b:{},c:3};e[1]=e,equal(a.isEqual(e,t),!1),n.b=n,equal(a.isEqual(n,r),!1)})}(),o.module("lodash.isFinite"),function(){test("should return `false` for non-numeric values",function(){equal(a.isFinite(null),!1),equal(a.isFinite([]),!1),equal(a.isFinite(!0),!1),equal(a.isFinite(""),!1),equal(a.isFinite(" "),!1),equal(a.isFinite("2px"),!1)}),test("should return `true` for numeric string values",function(){equal(a.isFinite("2"),!0),equal(a.isFinite("0"),!0),equal(a.isFinite("08"),!0)})}(),o.module("lodash.isObject"),function(){test("should avoid V8 bug #2291",function(){var e={},t="foo";a.isObject(e),equal(a.isObject(t),!1)})}(),o.module("lodash.isNaN"),function(){test("returns `true` for `new Number(NaN)`",function(){equal(a.isNaN(new Number(0/0)),!0)})}(),o.module("lodash.isPlainObject"),function(){test("should detect plain objects",function(){function e(){this.a=1}equal(a.isPlainObject(new e(1)),!1),equal(a.isPlainObject([1,2,3]),!1),equal(a.isPlainObject({a:1}),!0)})}(),o.module("isType checks"),a.each(["isArguments","isArray","isBoolean","isDate","isElement","isEmpty","isEqual","isFinite","isFunction","isNaN","isNull","isNumber","isObject","isRegExp","isString","isUndefined"],function(n){var r=a[n];test("lodash."+n+" should return a boolean",function(){var n="boolean";equal(typeof r(arguments),n),equal(typeof r([]),n),equal(typeof r(!0),n),equal(typeof r(!1),n),equal(typeof r(new Date),n),equal(typeof r(e.document&&document.body),n),equal(typeof r({}),n),equal(typeof r(t),n),equal(typeof r(1/0),n),equal(typeof r(a),n),equal(typeof r(0/0),n),equal(typeof r(null),n),equal(typeof r(0),n),equal(typeof r({a:1}),n),equal(typeof r("a"),n)})}),o.module("lodash.keys"),function(){var e=arguments;test("should work with `arguments` objects (test in IE < 9)",function(){deepEqual(a.keys(e),["0","1","2"])}),test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){function e(){}e.prototype.a=1,deepEqual(a.keys(e.prototype),["a"]),deepEqual(a.keys(f).sort(),d)}),test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.c=3,e.a=1,e.b=2;var t=["a","b"];deepEqual(a.keys(e),t),e.prototype={c:3},deepEqual(a.keys(e),t)})}(1,2,3),o.module("lodash.lastIndexOf"),function(){var e=[1,2,3,1,2,3];test("should work with a positive `fromIndex`",function(){equal(a.lastIndexOf(e,1,2),0)}),test("should work with `fromIndex` >= `array.length`",function(){equal(a.lastIndexOf(e,t,6),-1),equal(a.lastIndexOf(e,1,6),3),equal(a.lastIndexOf(e,t,8),-1),equal(a.lastIndexOf(e,1,8),3)}),test("should work with a negative `fromIndex`",function(){equal(a.lastIndexOf(e,2,-3),1)}),test("should work with a negative `fromIndex` <= `-array.length`",function(){equal(a.lastIndexOf(e,1,-6),0),equal(a.lastIndexOf(e,2,-8),-1)}),test("should ignore non-number `fromIndex` values",function(){equal(a.lastIndexOf([1,2,3],3,"1"),2),equal(a.lastIndexOf([1,2,3],3,!0),2)})}(),o.module("lodash.lateBind"),function(){test("should work when the target function is overwritten",function(){var e={name:"moe",greet:function(e){return e+": "+this.name}},t=a.lateBind(e,"greet","hi");equal(t(),"hi: moe"),e.greet=function(e){return e+" "+this.name+"!"},equal(t(),"hi moe!")})}(),o.module("lodash.map"),function(){test("should return the correct result when iterating an object",function(){var e=a.map({a:1,b:2,c:3},function(e){return e});deepEqual(e,[1,2,3])}),test("should handle object arguments with non-numeric length properties",function(){if(l){var e={};l(e,"length",{value:"x"}),deepEqual(a.map(e,a.identity),[])}else n()})}(),o.module("lodash.max and lodash.min object iteration"),a.each(["max","min"],function(e){var t=a[e];test("lodash."+e+" should iterate an object",function(){var n=t({a:1,b:2,c:3});equal(n,"max"==e?3:1)})}),o.module("lodash.max and lodash.min string iteration"),a.each(["max","min"],function(e){var t=a[e];test("lodash."+e+" should iterate a string",function(){a.each(["abc",Object("abc")],function(n){var r=t(n);equal(r,"max"==e?"c":"a")})})}),o.module("lodash.merge"),function(){var e=arguments;test("should merge `source` into the destination object",function(){var e=[{name:"moe"},{name:"larry"}],t=[{age:40},{age:50}],n=[{height:"5'4\""},{height:"5'5\""}],r=[{name:"moe",age:40,height:"5'4\""},{name:"larry",age:50,height:"5'5\""}];deepEqual(a.merge(e,t,n),r)}),test("should merge sources containing circular references",function(){var e={foo:{a:1},bar:{a:2}},t={foo:{b:{foo:{c:{}}}},bar:{}};t.foo.b.foo.c=t,t.bar.b=t.foo.b;var n=a.merge(e,t);ok(n.bar.b===n.foo.b&&n.foo.b.foo.c===n.foo.b.foo.c.foo.b.foo.c)}),test("should merge problem JScript properties (test in IE < 9)",function(){var e=[{constructor:1,hasOwnProperty:2,isPrototypeOf:3}],t=[{propertyIsEnumerable:4,toLocaleString:5,toString:6,valueOf:7}];deepEqual(a.merge(e,t),[f])}),test("should not treat `arguments` objects as plain objects",function(){var t={args:e},n={args:{3:4}},r=a.merge(t,n);equal(a.isArguments(r.args),!1)}),test("should work with four arguments",function(){var e={a:4};deepEqual(a.merge({a:1},{a:2},{a:3},e),e)})}(1,2,3),o.module("lodash.omit"),function(){var e={a:1,b:2},t={b:2};test("should accept individual property names",function(){deepEqual(a.omit(e,"a"),t)}),test("should accept an array of property names",function(){deepEqual(a.omit(e,["a","c"]),t)}),test("should accept mixes of individual and arrays of property names",function(){deepEqual(a.omit(e,["a"],"c"),t)}),test("should iterate over inherited properties",function(){function n(){}n.prototype=e,deepEqual(a.omit(new n,"a"),t)}),test("should work with a `callback` argument",function(){var t=a.omit(e,function(e){return 1==e});deepEqual(t,{b:2})}),test("should pass the correct `callback` arguments",function(){var t,n=a.keys(e).pop(),r="b"==n?[1,"a",e]:[2,"b",e];a.omit(e,function(){t||(t=c.call(arguments))}),deepEqual(t,r)}),test("should correct set the `this` binding",function(){var t=a.omit(e,function(e){return e==this.a},{a:1});deepEqual(t,{b:2})})}(),o.module("lodash.partial"),function(){test("partially applies an argument, without additional arguments",function(){var e="catnip",t=function(e){return e};equal(a.partial(t,e)(),e)}),test("partially applies an argument, with additional arguments",function(){var e="catnip",t="cheese",n=function(e,t){return[e,t]};deepEqual(a.partial(n,e)(t),[e,t])}),test("works without partially applying arguments, without additional arguments",function(){var e=function(){return arguments.length};equal(a.partial(e)(),0)}),test("works without partially applying arguments, with additional arguments",function(){var e="catnip",t=function(e){return e};equal(a.partial(t)(e),e)}),test("should not alter the `this` binding of either function",function(){var e={cat:"nip"},t=function(){return this.cat};equal(a.partial(a.bind(t,e))(),e.cat),equal(a.bind(a.partial(t),e)(),e.cat)})}(),o.module("lodash.pick"),function(){var e={a:1,b:2};test("should iterate over inherited properties",function(){function t(){}t.prototype=e,deepEqual(a.pick(new t,"b"),{b:2})}),test("should work with a `callback` argument",function(){var t=a.pick(e,function(e){return 2==e});deepEqual(t,{b:2})}),test("should pass the correct `callback` arguments",function(){var t,n=a.keys(e).pop(),r="b"==n?[1,"a",e]:[2,"b",e];a.pick(e,function(){t||(t=c.call(arguments))}),deepEqual(t,r)}),test("should correct set the `this` binding",function(){var t=a.pick(e,function(e){return e==this.b},{b:2});deepEqual(t,{b:2})})}(),o.module("lodash.pluck"),function(){test("should work with an object for `collection`",function(){var e={a:[1],b:[1,2],c:[1,2,3]};deepEqual(a.pluck(e,"length"),[1,2,3])})}(),o.module("lodash.random"),function(){test("should return `0` or `1` when no arguments are passed",function(){var e=a.random();ok(0===e||1===e)}),test("supports not passing a `max` argument",function(){for(var e=a.random(5),t=new Date;50>new Date-t&&5==e;)e=a.random(5);ok(5!=e)})}(),o.module("lodash.range"),function(){var e=a.range;test("should treat falsey `start` arguments as `0`",function(){a.each(s,function(e,t){t?(deepEqual(a.range(e),[]),deepEqual(a.range(e,1),[0])):deepEqual(a.range(),[])})}),test("should coerce arguments to numbers",function(){var t=[e("0",1),e("1"),e(0,1,"1")];deepEqual(t,[[0],[0],[0]])})}(),o.module("lodash.reduce"),function(){a.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=a.reduce(e,function(e,n){return t||(t=c.call(arguments)),e+n});deepEqual(t,["a","b",1,e]),equal(n,"abc")})})}(),o.module("lodash.reduceRight"),function(){test("should pass the correct `callback` arguments when iterating an object",function(){var e,t={a:1,b:2},n=a.keys(t).pop(),r="b"==n?[2,1,"a",t]:[1,2,"b",t];a.reduceRight(t,function(){e||(e=c.call(arguments))}),deepEqual(e,r)}),a.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=a.reduceRight(e,function(e,n){return t||(t=c.call(arguments)),e+n});deepEqual(t,["c","b",1,e]),equal(n,"cba")})})}(),o.module("lodash.rest"),function(){test("should allow a falsey `array` argument",function(){a.each(s,function(e,t){try{var n=e?a.rest(t):a.rest()}catch(r){}deepEqual(n,[])})})}(),o.module("lodash.shuffle"),function(){test("should shuffle an object",function(){var e=a.shuffle({a:1,b:2,c:3});deepEqual(e.sort(),[1,2,3])})}(),o.module("lodash.size"),function(){var e=arguments;test("should detect the size of a string value",function(){equal(a.size("abc"),3)}),test("should allow a falsey `object` argument",function(){a.each(s,function(e,t){try{var n=e?a.size(t):a.size()}catch(r){}equal(n,0)})}),test("should work with jQuery/MooTools DOM query collections",function(){function e(e){Array.prototype.push.apply(this,e)}e.prototype={length:0,splice:Array.prototype.splice},equal(a.size(new e([1,2,3])),3)}),test("should work with `arguments` objects (test in IE < 9)",function(){equal(a.size(e),3)}),test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(a.size(f),7)})}(1,2,3),o.module("lodash.some"),function(){test("should return `true` as soon as the `callback` result is truthy",function(){equal(a.some([null,!0,null],a.identity),!0)})}(),o.module("lodash.sortBy"),function(){test("should perform a stable sort (test in IE > 8, Opera, and V8)",function(){function e(e,t){this.x=e,this.y=t}var n=[new e(1,1),new e(1,2),new e(1,3),new e(1,4),new e(1,5),new e(1,6),new e(2,1),new e(2,2),new e(2,3),new e(2,4),new e(2,5),new e(2,6),new e(t,1),new e(t,2),new e(t,3),new e(t,4),new e(t,5),new e(t,6)],r=a.sortBy(n,function(e){return e.x});deepEqual(r,n)}),test("supports the `thisArg` argument",function(){var e=a.sortBy([1,2,3],function(e){return this.sin(e)},Math);deepEqual(e,[3,1,2])}),test("should work with an object for `collection`",function(){var e=a.sortBy({a:1,b:2,c:3},function(e){return Math.sin(e)});deepEqual(e,[3,1,2])})}(),o.module("lodash.sortedIndex"),function(){test("supports the `thisArg` argument",function(){var e=a.sortedIndex([1,2,3],4,function(e){return this.sin(e)},Math);equal(e,0)}),test("supports arrays with lengths larger than `Math.pow(2, 31) - 1`",function(){var e=Math.pow(2,32)-1,t=e-1,n=Array(e),r=0;n[t]=t,a.sortedIndex(n,t,function(){r++}),equal(r,33)})}(),o.module("lodash.template"),function(){test("supports recursive calls",function(){var e=a.template("<%= a %><% a = _.template(c, obj) %><%= a %>"),t={a:"A",b:"B",c:"<%= b %>"};equal(e(t),"AB")}),test("should not augment the `options` object",function(){var e={};a.template("",null,e),deepEqual(e,{})}),test("should provide the template source when a SyntaxError occurs",function(){try{a.template("<% if x %>")}catch(e){var t=e.source}ok((t+"").indexOf("__p")>-1)}),test('should work with complex "interpolate" delimiters',function(){a.each({"<%= a + b %>":"3","<%= b - a %>":"1","<%= a = b %>":"2","<%= !a %>":"false","<%= ~a %>":"-2","<%= a * b %>":"2","<%= a / b %>":"0.5","<%= a % b %>":"1","<%= a >> b %>":"0","<%= a << b %>":"4","<%= a & b %>":"0","<%= a ^ b %>":"3","<%= a | b %>":"3","<%= {}.toString.call(0) %>":"[object Number]","<%= a.toFixed(2) %>":"1.00",'<%= obj["a"] %>':"1","<%= delete a %>":"true",'<%= "a" in obj %>':"true","<%= obj instanceof Object %>":"true","<%= new Boolean %>":"false","<%= typeof a %>":"number","<%= void a %>":""},function(e,t){var n=a.template(t),r={a:1,b:2};equal(n(r),e,t)})}),test('should allow referencing variables declared in "evaluate" delimiters from other delimiters',function(){var e=a.template("<% var b = a; %><%= b.value %>"),t={a:{value:1}};equal(e(t),"1")}),test("should work when passing `options.variable`",function(){var e=a.template("<% _.forEach( data.a, function( value ) { %><%= value.valueOf() %><% }) %>",null,{variable:"data"}),t={a:[1,2,3]};try{equal(e(t),"123")}catch(n){ok(!1)}}),test("should not error with IE conditional comments enabled (test with development build)",function(){var e=a.template(""),t=!0;try{e()}catch(n){t=!1}ok(t)}),test("should tokenize delimiters",function(){var e=a.template('<span class="icon-<%= type %>2"></span>');equal(e({type:1}),'<span class="icon-12"></span>')}),test('should work with "interpolate" delimiters containing ternary operators',function(){var e=a.template('<%= value ? value : "b" %>');equal(e({value:"a"}),"a")}),test("should parse delimiters with newlines",function(){var e='<<\nprint("<p>" + (value ? "yes" : "no") + "</p>")\n>>',t=a.template(e,null,{evaluate:/<<(.+?)>>/g});equal(t({value:!0}),e)}),test("should parse ES6 template delimiters",function(){var e={value:2};equal(a.template("1${value}3",e),"123"),equal(a.template('${"{" + value + "\\}"}',e),"{2}")})}(),o.module("lodash.throttle"),function(){test("subsequent calls should return the result of the first call",function(){var e=a.throttle(function(e){return e},90),t=[e("x"),e("y")];deepEqual(t,["x","x"])}),test("supports calls in a loop",function(){for(var e=0,t=a.throttle(function(){e++},90),n=new Date,r=180;r>new Date-n;)t();ok(e>1)}),asyncTest("supports recursive calls",function(){var e=0,t=a.throttle(function(){e++,4>e&&t()},90);setTimeout(function(){ok(e>1),o.start()},180),t()}),asyncTest("should clear timeout when `func` is called",function(){var e=new Date,t=[],n=a.throttle(function(){t.push(new Date-e)},32);setTimeout(n,32),setTimeout(n,32),setTimeout(n,64),setTimeout(n,64),setTimeout(function(){var e=a.every(t,function(e,n){return n?e-t[n-1]>2:!0});ok(e),o.start()},260)})}(),o.module("lodash.toArray"),function(){var e=arguments;test("should treat array-like objects like arrays",function(){var t={0:"a",1:"b",2:"c",length:3};deepEqual(a.toArray(t),["a","b","c"]),deepEqual(a.toArray(e),[1,2,3])}),test("should work with a string for `collection` (test in Opera < 10.52)",function(){deepEqual(a.toArray("abc"),["a","b","c"]),deepEqual(a.toArray(Object("abc")),["a","b","c"])})}(1,2,3),o.module("lodash.times"),function(){test("should return an array of the results of each `callback` execution",function(){deepEqual(a.times(3,function(e){return 2*e}),[0,2,4])})}(),o.module("lodash.unescape"),function(){var e="&lt;h1&gt;Moe&#x27;s famous &quot;death by chocolate&quot; brownies &amp; cake&lt;/h1&gt;",n='<h1>Moe\'s famous "death by chocolate" brownies & cake</h1>';test("should unescape entities in the correct order",function(){equal(a.unescape("&amp;lt;"),"&lt;")}),test("should unescape the proper entities",function(){equal(a.unescape(e),n)}),test("should unescape the same characters escaped by `_.escape`",function(){equal(a.unescape(a.escape(n)),n)}),test("should return an empty string when passed `null` or `undefined`",function(){equal(a.unescape(null),""),equal(a.unescape(t),"")})}(),o.module("lodash.uniq"),function(){test("supports the `thisArg` argument",function(){var e=a.uniq([1,2,1.5,3,2.5],function(e){return this.floor(e)},Math);deepEqual(e,[1,2,3])}),test("should distinguish between numbers and numeric strings",function(){var e=["2",2,Object("2"),Object(2)],t=a.uniq(e);deepEqual(t,e)})}(),o.module("lodash.where"),function(){var e=[{a:1},{a:1},{a:1,b:2},{a:2,b:2},{a:3}];test("should filter by properties",function(){deepEqual(a.where(e,{a:1}),[{a:1},{a:1},{a:1,b:2}]),deepEqual(a.where(e,{a:2}),[{a:2,b:2}]),deepEqual(a.where(e,{a:3}),[{a:3}]),deepEqual(a.where(e,{b:1}),[]),deepEqual(a.where(e,{b:2}),[{a:1,b:2},{a:2,b:2}]),deepEqual(a.where(e,{a:1,b:2}),[{a:1,b:2}])}),test("should filter by inherited properties",function(){function t(){}t.prototype={b:2};var n=new t;n.a=1,deepEqual(a.where(e,n),[{a:1,b:2}])}),test("should filter by problem JScript properties (test in IE < 9)",function(){var e=[f];deepEqual(a.where(e,f),[f])}),test("should work with an object for `collection`",function(){var e={x:{a:1},y:{a:3},z:{a:1,b:2}};deepEqual(a.where(e,{a:1}),[{a:1},{a:1,b:2}])}),test("should return an empty array when passed an empty `properties` object",function(){deepEqual(a.where(e,{}),[])})}(),o.module("lodash(...).shift"),function(){test("should remove the value at index `0` when length is `0` (test in IE 8 compatibility mode)",function(){var e=a({0:1,length:1});e.shift(),deepEqual(e.keys(),["length"]),equal(e.first(),t)})}(),o.module("lodash(...).splice"),function(){test("should remove the value at index `0` when length is `0` (test in IE < 9, and in compatibility mode for IE9)",function(){var e=a({0:1,length:1});e.splice(0,1),deepEqual(e.keys(),["length"]),equal(e.first(),t)})}(),o.module("lodash methods"),function(){test("should allow falsey arguments",function(){var e=["filter","invoke","map","pluck","reject","shuffle","sortBy","toArray","where"],t=a.without.apply(a,[a.functions(a)].concat(["_","_iteratorTemplate","after","bind","bindAll","compose","debounce","defer","delay","functions","memoize","once","partial","tap","throttle","wrap"]));a.each(t,function(t){var n=[],r=a.times(s.length,function(){return[]}),i=a[t],o=!0;a.each(s,function(e,t){try{n.push(t?i(e):i())}catch(r){o=!1}}),a.indexOf(e,t)>-1&&deepEqual(n,r,"_."+t+" returns an array"),ok(o,"_."+t+" allows falsey arguments")})}),test("should handle `null` `thisArg` arguments",function(){var e,n=["a"],r=function(){e=this},i=function(){return this}.call(null),o=["countBy","every","filter","find","forEach","forIn","forOwn","groupBy","map","max","min","omit","pick","reduce","reduceRight","reject","some","sortBy","sortedIndex","times","uniq"];a.each(o,function(o){var s=a[o],u="_."+o+" handles `null` `thisArg` arguments";e=t,/^reduce/.test(o)?s(n,r,0,null):"sortedIndex"==o?s(n,"a",r,null):"times"==o?s(1,r,null):s(n,r,null),null===i?deepEqual(e,null,u):equal(e,i,u)})})}(),e.document||o.start()})("object"==typeof global&&global||this);