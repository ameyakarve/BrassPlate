function findTestFilenames(e){var t={};return Fs.readdirSync(e).forEach(function(e){var n=Path.extname(e),r=Path.basename(e,n);void 0===t[r]&&(t[r]=[]),t[r].push(n)}),t}var Vows=require("vows"),Path=require("path"),Fs=require("fs"),Common=require("../lib/js-yaml/common"),Helper=module.exports={};Helper.suite=function(e,t,n){var r=Vows.describe(e);return Fs.readdirSync(t).forEach(function(e){var i=Path.join(t,e);Fs.statSync(i).isFile()&&n.test(e)&&r.addBatch(require(i))}),r},Helper.issue=function(e){var t={};return t[e.title]=function(){if(e.test(),!e.fixed)throw{message:"Test passed, but it shouldn't!"}},t},Helper.functional=function(e){var t={};return Common.each(findTestFilenames(e.dirname),function(n,r){var i,o=[];e.files.forEach(function(t){n.indexOf(t)>=0&&o.push(Path.join(e.dirname,r+t))}),o.length===e.files.length&&(i=o.map(function(e){return Path.basename(e)}).join(", "),t[i]=function(){e.test.apply(e.test,o)})}),t};