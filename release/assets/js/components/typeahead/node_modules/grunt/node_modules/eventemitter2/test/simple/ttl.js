var simpleEvents=require("nodeunit").testCase,file="../../lib/eventemitter2",EventEmitter2;EventEmitter2="undefined"!=typeof require?require(file).EventEmitter2:window.EventEmitter2,module.exports=simpleEvents({"1. A listener added with `once` should only listen once and then be removed.":function(e){var t=new EventEmitter2;t.once("test1",function(){e.ok(!0,"The event was raised once")}),t.emit("test1"),t.emit("test1"),e.expect(1),e.done()},"2. A listener with a TTL of 4 should only listen 4 times.":function(e){var t=new EventEmitter2;t.many("test1",4,function(){e.ok(!0,"The event was raised 4 times.")}),t.emit("test1",1),t.emit("test1",2),t.emit("test1",3),t.emit("test1",4),t.emit("test1",5),e.expect(4),e.done()},"3. A listener with a TTL of 4 should only listen 4 times and pass parameters.":function(e){var t=new EventEmitter2;t.many("test1",4,function(t,n,r){e.ok(t!==void 0,"got value 1"),e.ok(n!==void 0,"got value 2"),e.ok(r!==void 0,"got value 3")}),t.emit("test1",1,"A",!1),t.emit("test1",2,"A",!1),t.emit("test1",3,"A",!1),t.emit("test1",4,"A",!1),t.emit("test1",5,"A",!1),e.done()},"4. Remove an event listener by signature.":function(e){function t(){"event A";e.ok(!0,"The event was raised less than 3 times.")}function n(){"event B";e.ok(!0,"The event was raised less than 3 times.")}function r(){"event C";e.ok(!0,"The event was raised less than 3 times.")}var i=new EventEmitter2;i.on("test1",t),i.on("test1",n),i.on("test1",r),i.removeListener("test1",n),i.emit("test1"),e.expect(2),e.done()},"5. `removeListener` and `once`":function(e){var t=new EventEmitter2,n=function(){e.ok(!0,"Event was fired")};t.once("testA",n),t.removeListener("testA",n),t.emit("testA"),e.expect(0),e.done()}});